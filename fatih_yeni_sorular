<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Uzakyol Kaptan 15 Aralık 2025 Tarihli Hukuk Sınavı Geri Besleme Çalışması</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 16px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #e0e0e0;            /* gri arka plan (görseldeki gibi) */
      color: #222;
    }

    .page-title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .exam-box {
      background: #ffffff;
      border: 1px solid #cccccc;
      max-width: 900px;
      margin: 0 auto;
      box-shadow: 0 2px 4px rgba(0,0,0,0.08);
    }

    .question-header {
      background: #98dfa1;            /* açık yeşil şerit */
      padding: 8px 12px;
      font-weight: 600;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }

    .question-body {
      padding: 16px 18px 12px;
      font-size: 14px;
      line-height: 1.5;
    }

    .question-text {
      margin-bottom: 12px;
    }

    .meta-line {
      font-size: 12px;
      color: #666;
      margin-bottom: 6px;
    }

    .section-label {
      margin-top: 6px;
      padding-top: 4px;
      border-top: 1px solid #dddddd;
      font-size: 13px;
      color: #555;
      margin-bottom: 8px;
    }

    .options-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr)); /* 2 sütun */
      column-gap: 60px;
      row-gap: 8px;
      padding: 0 10px 12px;
      font-size: 14px;
    }

    .option-row {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      padding: 4px 0;
    }

    .option-row.disabled {
      cursor: default;
    }

    .radio-circle {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      border: 2px solid #c4c4c4;
      background: #f9f9f9;
      position: relative;
      flex-shrink: 0;
    }

    .option-row.selected .radio-circle::after {
      content: "";
      position: absolute;
      inset: 2px;
      border-radius: 50%;
      background: #007bff;
    }

    .option-row.correct .radio-circle {
      border-color: #1f9d55;
    }

    .option-row.incorrect .radio-circle {
      border-color: #e3342f;
    }

    .footer-bar {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 10px 18px 12px;
      border-top: 1px solid #dddddd;
      font-size: 13px;
      background: #f5f5f5;
      gap: 16px;
      flex-wrap: wrap;
    }

    .stats-block {
      font-size: 13px;
      color: #555;
      line-height: 1.5;
    }

    .timer-line {
      margin-top: 4px;
      font-weight: 600;
    }

    button {
      border-radius: 4px;
      border: 1px solid #b0b0b0;
      padding: 6px 12px;
      font-size: 13px;
      cursor: pointer;
      background: #ffffff;
      margin-left: 4px;
    }

    button:hover {
      background: #f0f0f0;
    }

    .feedback {
      font-size: 13px;
      margin-top: 6px;
    }
    .feedback.correct { color: #1f9d55; }
    .feedback.incorrect { color: #e3342f; }

    @media (max-width: 700px) {
      .options-grid {
        grid-template-columns: 1fr;  /* mobilde tek sütun */
        column-gap: 20px;
      }
      .question-header {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>

  <div class="page-title">Uzakyol Kaptan 15 Aralık 2025 Tarihli Hukuk Sınavı Geri Besleme Çalışması</div>

  <div class="exam-box">
    <div class="question-header" id="questionHeader">
      <span>Soru 1</span>
      <span id="questionProgress"></span>
    </div>

    <div class="question-body">
      <div class="meta-line" id="metaLine"></div>

      <div class="question-text" id="questionText"></div>

      <div id="questionSub" style="font-size:13px;color:#666;margin-bottom:8px;"></div>

      <div class="section-label">cevap seçenekleri</div>

      <div class="options-grid" id="optionsGrid">
        <!-- JS ile doldurulacak -->
      </div>

      <div id="feedback" class="feedback"></div>
    </div>

    <div class="footer-bar">
      <div class="stats-block">
        <div>Doğru cevap sayısı : <span id="statCorrect">0</span></div>
        <div>Yanlış cevap sayısı : <span id="statWrong">0</span></div>
        <div>Toplam soru sayısı : <span id="statTotal">0</span></div>
        <div>Şu anki soru : <span id="statCurrent">1</span>/<span id="statTotal2">0</span></div>
        <div class="timer-line">Geçen süre : <span id="timer">00:00</span></div>
      </div>

      <div>
        <button id="btnShowAnswer" type="button">Cevabı Göster</button>
        <button id="btnNext" type="button">Sonraki Soru</button>
      </div>
    </div>
  </div>

  <script>
    /* 
      BURASI SORU BANKASI
      Excel dosyandaki yapı şöyleydi:
      Question, 1 st Choice, 2 nd Choice, 3 rd Choice, 4 th Choice, 5 th Choice,
      Subtitle, Correct Answer (Letter)

      Aşağıya 100 sorunun hepsi bu formatta gelebilir.
      Şimdilik ilk 3 soruyu Excel'inden örnek olarak koydum.
      Geri kalan 97’yi aynı formatta ekleyebilirsin.
    */
   const questions = [
{
  id: 1,
  subtitle: "",
  question: "Aşağıdakilerden hangisi booking evrağı değildir ve yükün teslim edildiğini gösteren bir belgedir?",
  options: ["Booking Note", "Freight Booking Form", "Reservation Note", "Space Booking Confirmation", "Konşimento (Bill of Lading)"],
  correctIndex: 4
},

{
  id: 2,
  subtitle: "",
  question: "Türk Ticaret Kanunu hükümleri çerçevesinde aşağıdaki belgelerden hangisi, taşıyan tarafından yükün teslim alındığını veya gemiye yüklendiğini ispat eden, teslimde ibraz edilmesi gereken ve kıymetli evrak niteliği taşıyan belgedir?",
  options: ["Konşimento (Bill of Lading)", "Freight Booking Confirmation", "Sea Waybill", "Booking Note", "Yük Rezervasyon Formu"],
  correctIndex: 0
},

{
  id: 3,
  subtitle: "",
  question: "Mevzuat hükümlerine göre deniz çevresinin kirletilmesi halinde idari para cezası kesme yetkisi bulunmayan birim aşağıdakilerden hangisidir?",
  options: ["Çevre, Şehircilik ve İklim Değişikliği Bakanlığı", "Sahil Güvenlik Komutanlığı", "Liman Başkanlığı", "Deniz Polisi", "Belediye"],
  correctIndex: 3
},

{
  id: 4,
  subtitle: "",
  question: "SPS Code ve ilgili ulusal mevzuat kapsamında, Ulaştırma ve Altyapı Bakanlığının devredemeyeceği yetki aşağıdakilerden hangisidir?",
  options: ["Liman tesisi güvenlik planlarının hazırlanması", "Liman tesisi güvenlik görevlisinin atanması", "ISPS sertifikalandırma ve onay işlemleri", "Liman tesisi güvenlik tatbikatlarının yapılması", "Güvenlik seviyesinin uygulanmasının sağlanması"],
  correctIndex: 2
},

{
  id: 5,
  subtitle: "",
  question: "Sigorta hukuku ve ticaret uygulamalarında “takseli poliçe” aşağıdakilerden hangisini ifade eder?",
  options: ["Prim tutarının sonradan belirlendiği poliçe", "Rizikonun gerçekleşmesine göre fiyatlanan poliçe", "Sigorta bedelinin taksitler hâlinde ödendiği poliçe", "Önceden fiyatı belirlenmiş olan poliçe", "Sadece tek seferlik taşımalarda düzenlenen poliçe"],
  correctIndex: 3
},

{
  id: 6,
  subtitle: "",
  question: "Takseli poliçe ile ilgili aşağıdaki ifadelerden hangisi doğrudur?",
  options: ["Prim baştan sabit olarak kararlaştırılır", "Prim, gerçekleşen rizikoya göre değişir", "Prim, taşıma sayısına göre sonradan belirlenir", "Prim, taşıma sonunda hesaplanır", "Prim yalnızca zarar halinde ödenir"],
  correctIndex: 0
},

{
  id: 7,
  subtitle: "",
  question: "ISPS Code ve ilgili ulusal mevzuat kapsamında Liman Başkanlığının yetkileri ile ilgili aşağıdaki ifadelerden hangisi yanlıştır?",
  options: ["Liman tesislerinin ISPS kapsamındaki uygulamalarını denetlemek", "Gerekli durumlarda güvenlik seviyesinin uygulanmasını sağlamak", "Liman tesisi güvenlik planlarının onayını vermek", "ISPS sertifikası düzenlemek ve iptal etmek", "Uygunsuzlukların giderilmesini talep etmek"],
  correctIndex: 3
},

{
  id: 8,
  subtitle: "",
  question: "Deniz sigortalarında müşterek avarya hâlinde sigortacının ödeyeceği zarar oranı aşağıdakilerden hangisidir?",
  options: ["Zararın tamamı", "Zararın yarısı", "Zararın üçte ikisi", "Zararın dörtte üçü", "Sigorta bedeline göre değişir"],
  correctIndex: 3
},

{
  id: 9,
  subtitle: "",
  question: "Liman çıkış belgesi düzenlenirken aşağıdakilerden hangisi Liman Başkanlığı tarafından doğrudan kontrol edilen unsurlar arasında yer almaz?",
  options: ["Gemi belgeleri", "Mürettebat listesi", "Yolcu listesi", "Kumanya", "Makine durumu"],
  correctIndex: 4
},

{
  id: 10,
  subtitle: "",
  question: "ISPS Code ve ilgili ulusal mevzuata göre aşağıdaki işlemlerden hangisi Liman Başkanlığının görevleri arasında yer almaz?",
  options: ["Liman tesislerinde ISPS uygulamalarını izlemek", "Liman tesisi güvenlik planını onaylamak", "Güvenlik seviyesinin uygulanmasını koordine etmek", "Tespit edilen uygunsuzlukları raporlamak", "Uygunsuzlukların giderilmesini istemek"],
  correctIndex: 1
},



      // ← Buradan sonra Excel’deki diğer soruları aynı formatta ekleyebilirsin
    ];

    // ---- Genel değişkenler ----
    let quizQuestions = [];   // Kullanıcının seçeceği kadar soru
    let currentIndex = 0;
    let selectedIndex = null;
    let correctCount = 0;
    let wrongCount = 0;

    let timerInterval = null;
    let startTime = null;

    // ---- DOM referansları ----
    const questionHeader  = document.getElementById("questionHeader");
    const questionProgress= document.getElementById("questionProgress");
    const questionText    = document.getElementById("questionText");
    const questionSub     = document.getElementById("questionSub");
    const metaLine        = document.getElementById("metaLine");
    const optionsGrid     = document.getElementById("optionsGrid");
    const feedbackEl      = document.getElementById("feedback");

    const statCorrectEl   = document.getElementById("statCorrect");
    const statWrongEl     = document.getElementById("statWrong");
    const statTotalEl     = document.getElementById("statTotal");
    const statTotal2El    = document.getElementById("statTotal2");
    const statCurrentEl   = document.getElementById("statCurrent");
    const timerEl         = document.getElementById("timer");

    const btnShowAnswer   = document.getElementById("btnShowAnswer");
    const btnNext         = document.getElementById("btnNext");

    // ---- Yardımcı: Diziyi karıştır (Fisher–Yates) ----
    function shuffle(array) {
      const arr = array.slice();
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    // ---- Zaman formatı ----
    function formatTime(seconds) {
      const m = Math.floor(seconds / 60);
      const s = seconds % 60;
      const mm = String(m).padStart(2, "0");
      const ss = String(s).padStart(2, "0");
      return mm + ":" + ss;
    }

    function startTimer() {
      startTime = Date.now();
      if (timerInterval) clearInterval(timerInterval);
      timerInterval = setInterval(() => {
        const elapsed = Math.floor((Date.now() - startTime) / 1000);
        timerEl.textContent = formatTime(elapsed);
      }, 1000);
    }

    // ---- Skor güncelle ----
    function updateStats() {
      statCorrectEl.textContent = correctCount;
      statWrongEl.textContent   = wrongCount;
      statTotalEl.textContent   = quizQuestions.length;
      statTotal2El.textContent  = quizQuestions.length;
      statCurrentEl.textContent = currentIndex + 1;
    }

    // ---- Soru çiz ----
    function renderQuestion() {
      const q = quizQuestions[currentIndex];
      questionHeader.querySelector("span").textContent = "Soru " + (currentIndex + 1);
      questionProgress.textContent = "Soru " + (currentIndex + 1) + " / " + quizQuestions.length;

      metaLine.textContent = (q.subtitle ? q.subtitle + " – " : "") + (q.category || "");
      questionText.textContent = q.question || "";
      questionSub.textContent  = q.sub || "";

      feedbackEl.textContent = "";
      feedbackEl.className = "feedback";

      selectedIndex = null;
      optionsGrid.innerHTML = "";

      q.options.forEach((opt, idx) => {
        const row = document.createElement("div");
        row.className = "option-row";
        row.dataset.index = idx;

        row.innerHTML = `
          <div class="radio-circle"></div>
          <div>${opt}</div>
        `;

        row.addEventListener("click", () => handleOptionClick(idx));
        optionsGrid.appendChild(row);
      });

      updateStats();
    }

    // ---- Cevap seçildiğinde ----
    function handleOptionClick(idx) {
      if (selectedIndex !== null) return; // Soruya yalnızca bir kez cevap

      selectedIndex = idx;
      const q = quizQuestions[currentIndex];
      const optionRows = optionsGrid.querySelectorAll(".option-row");

      optionRows.forEach(r => r.classList.add("disabled"));

      if (idx === q.correctIndex) {
        correctCount++;
        feedbackEl.textContent = "Doğru! ✅";
        feedbackEl.classList.add("correct");
      } else {
        wrongCount++;
        feedbackEl.textContent = "Yanlış. ❌";
        feedbackEl.classList.add("incorrect");
      }

      optionRows.forEach((row, i) => {
        if (i === q.correctIndex) row.classList.add("correct");
        if (i === idx && i !== q.correctIndex) row.classList.add("incorrect");
        if (i === idx) row.classList.add("selected");
      });

      updateStats();
    }

    // ---- Cevabı göster (puan değiştirmeden) ----
    function showAnswer() {
      if (!quizQuestions.length) return;
      if (selectedIndex !== null) return;

      const q = quizQuestions[currentIndex];
      const optionRows = optionsGrid.querySelectorAll(".option-row");
      optionRows.forEach((row, i) => {
        row.classList.add("disabled");
        if (i === q.correctIndex) {
          row.classList.add("correct");
        }
      });
      feedbackEl.textContent = "Doğru cevap gösterildi.";
      feedbackEl.classList.remove("correct", "incorrect");
    }

    // ---- Sonraki soru ----
    function nextQuestion() {
      if (currentIndex < quizQuestions.length - 1) {
        currentIndex++;
        renderQuestion();
      } else {
        feedbackEl.textContent = "Sınav bitti, tebrikler.";
        feedbackEl.classList.remove("incorrect");
        feedbackEl.classList.add("correct");
      }
    }

    // ---- Kullanıcıdan kaç soru çözeceğini iste ----
    function initQuiz() {
      if (!questions.length) {
        alert("Henüz soru tanımlı değil.");
        return;
      }

      const max = questions.length;
      let count = parseInt(
        prompt("Kaç soru çözmek istiyorsunuz? (1-" + max + ")", Math.min(20, max)),
        10
      );
      if (isNaN(count) || count < 1 || count > max) {
        count = max;
      }

      const shuffled = shuffle(questions);
      quizQuestions = shuffled.slice(0, count);

      currentIndex = 0;
      correctCount = 0;
      wrongCount = 0;
      startTimer();
      renderQuestion();
    }

    btnShowAnswer.addEventListener("click", showAnswer);
    btnNext.addEventListener("click", nextQuestion);

    // Sayfa açıldığında başlat
    initQuiz();
  </script>
</body>
</html>
